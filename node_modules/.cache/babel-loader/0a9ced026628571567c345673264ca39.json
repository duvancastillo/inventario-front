{"ast":null,"code":"var _jsxFileName = \"/home/duvan/proyectosjavascript/inventario-front-master/src/componets/Articles.js\";\nimport React, { useEffect, useState } from 'react';\n\nfunction Articles() {\n  //** varaibles de estado */\n  const [articles, setArticles] = useState([]);\n  const [name, setName] = useState('');\n  const [reference, setReference] = useState('');\n  const [price, setPrice] = useState('');\n  const [dbid, setId] = useState('');\n  const [edit, setEdit] = useState(false);\n  /** \n   * descripcion: recibe id desde button delete\n   * funtion: elimina articulo correspondente al id requerido\n   * return: nuevo array sin el articulo eliminado\n  */\n\n  async function deleteArticle(id) {\n    try {\n      await fetch(`http://localhost:4000/article/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Accept': 'application/json',\n          'content-Type': 'application/json'\n        }\n      });\n      const filter = articles.filter(item => item._id !== id);\n      setArticles(filter);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  /** \n   * descricion: recibe el artculo desde el boton update\n   * funcion : actuliza el estado de las variables\n  */\n\n\n  async function editArticles(article) {\n    setName(article.name);\n    setReference(article.reference);\n    setPrice(article.price);\n    setId(article._id);\n    setEdit(true);\n  }\n  /**\n   * \n   *  \n   */\n\n\n  async function update(e) {\n    e.preventDefault();\n    const body = {\n      name,\n      price,\n      reference,\n      _id: dbid\n    };\n\n    try {\n      console.log(dbid);\n      await fetch(`http://localhost:4000/article/${dbid}`, {\n        method: 'PUT',\n        body: JSON.stringify(body),\n        headers: {\n          'Accept': 'application/json',\n          'content-Type': 'application/json'\n        }\n      });\n      const filter = articles.map(item => {\n        if (item._id === dbid) {\n          console.log('entra');\n          item = body;\n        }\n\n        return item;\n      });\n      setArticles(filter);\n      console.log(filter);\n    } catch (error) {\n      console.log(error);\n    }\n\n    setName('');\n    setPrice('');\n    setReference('');\n    setId('');\n  }\n\n  function cancelEdit() {\n    setName('');\n    setPrice('');\n    setReference('');\n    setId('');\n  }\n  /**\n   * \n   * @param {*handleChange} captura datos desde el formulario \n   */\n\n\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n\n      case 'reference':\n        setReference(value);\n        break;\n\n      default:\n        setPrice(value);\n        break;\n    }\n  }\n  /**\n   * \n   * @param {addArticles} envia peticion para agregar datos \n   */\n\n\n  async function addArticles(e) {\n    e.preventDefault();\n    const body = {\n      name,\n      price,\n      reference\n    };\n\n    try {\n      const response = await fetch('http://localhost:4000/article', {\n        method: 'POST',\n        body: JSON.stringify(body),\n        headers: {\n          'Accept': 'application/json',\n          'content-Type': 'application/json'\n        }\n      });\n      const json = await response.json();\n      console.log(json);\n      setArticles([...articles, json['response']]);\n    } catch (error) {\n      console.log(error);\n    }\n\n    setName('');\n    setPrice('');\n    setReference('');\n    setId('');\n  }\n  /**\n   * funcion mostrar articulo que se ejecuta apenas arranca la app y se renderiza\n   * cada vez que hay un cambio de estado\n   */\n\n\n  useEffect(() => {\n    async function getData() {\n      try {\n        const data = await fetch('http://localhost:4000/article');\n        const response = await data.json();\n        console.log(response);\n        setArticles(response);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    getData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: addArticles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"reference\",\n    value: reference,\n    onChange: handleChange,\n    placeholder: \"referencia\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: name,\n    onChange: handleChange,\n    placeholder: \"name\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"price\",\n    value: price,\n    onChange: handleChange,\n    placeholder: \"price\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  })), edit === false ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  }, \"create\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: update,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 23\n    }\n  }, \"update\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: cancelEdit,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 23\n    }\n  }, \"cancel\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 19\n    }\n  }, \"ref\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 19\n    }\n  }, \"neme\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 19\n    }\n  }, \"price\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 19\n    }\n  }, \"action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 15\n    }\n  }, articles.map(article => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: article._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 25\n      }\n    }, \" \", article.reference), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 25\n      }\n    }, \" \", article.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 25\n      }\n    }, \" \", article.price), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => editArticles(article),\n      style: {\n        margin: '4px',\n        fontSize: '4px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 29\n      }\n    }, \"edit\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => deleteArticle(article._id),\n      style: {\n        margin: '4px',\n        fontSize: '4px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 29\n      }\n    }, \"delete\"))));\n  })))))));\n}\n\nexport default Articles;","map":{"version":3,"sources":["/home/duvan/proyectosjavascript/inventario-front-master/src/componets/Articles.js"],"names":["React","useEffect","useState","Articles","articles","setArticles","name","setName","reference","setReference","price","setPrice","dbid","setId","edit","setEdit","deleteArticle","id","fetch","method","headers","filter","item","_id","error","console","log","editArticles","article","update","e","preventDefault","body","JSON","stringify","map","cancelEdit","handleChange","value","target","addArticles","response","json","getData","data","margin","fontSize"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\n\n\n\n\nfunction Articles() {\n  //** varaibles de estado */\n  const [articles, setArticles] = useState([]);\n  const [name, setName] = useState('');\n  const [reference, setReference] = useState('');\n  const [price, setPrice] = useState('');\n  const [dbid, setId] = useState('');\n  const [edit, setEdit] = useState(false);\n  /** \n   * descripcion: recibe id desde button delete\n   * funtion: elimina articulo correspondente al id requerido\n   * return: nuevo array sin el articulo eliminado\n  */\n  async function deleteArticle(id) {\n\n\n    try {\n      await fetch(`http://localhost:4000/article/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Accept': 'application/json',\n          'content-Type': 'application/json'\n\n        }\n      })\n      const filter = articles.filter(item => item._id !== id);\n      setArticles(filter);\n\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  /** \n   * descricion: recibe el artculo desde el boton update\n   * funcion : actuliza el estado de las variables\n  */\n  async function editArticles(article) {\n    setName(article.name);\n    setReference(article.reference);\n    setPrice(article.price);\n    setId(article._id);\n    setEdit(true);   \n  }\n  /**\n   * \n   *  \n   */\n  async function update(e) {\n    e.preventDefault();\n    const body = {\n      name,\n      price,\n      reference,\n      _id: dbid\n    }\n    try {\n      console.log(dbid);\n      await fetch(`http://localhost:4000/article/${dbid}`, {\n        method: 'PUT',\n        body: JSON.stringify(body),\n        headers: {\n          'Accept': 'application/json',\n          'content-Type': 'application/json'\n        }\n\n      }\n      )\n      const filter = articles.map(item => {\n        if (item._id === dbid) {\n          console.log('entra')\n          item = body;\n        }\n        return item;\n\n      });\n      setArticles(filter);\n      console.log(filter)\n\n    } catch (error) {\n      console.log(error);\n    }\n    setName('');\n    setPrice('');\n    setReference('');\n    setId('');\n  }\n\n\n  function cancelEdit() {\n    setName('');\n    setPrice('');\n    setReference('');\n    setId('');\n  }\n  /**\n   * \n   * @param {*handleChange} captura datos desde el formulario \n   */\n  function handleChange(e) {\n    const { name, value } = e.target;\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n      case 'reference':\n        setReference(value);\n        break;\n      default:\n        setPrice(value);\n        break;\n    }\n  }\n\n  /**\n   * \n   * @param {addArticles} envia peticion para agregar datos \n   */\n  async function addArticles(e) {\n    e.preventDefault();\n    const body = {\n      name,\n      price,\n      reference\n    }\n    try {\n\n      const response = await fetch('http://localhost:4000/article', {\n        method: 'POST',\n        body: JSON.stringify(body),\n        headers: {\n          'Accept': 'application/json',\n          'content-Type': 'application/json'\n\n        }\n\n      })\n      const json = await response.json();\n      console.log(json);\n      setArticles([...articles, json['response']])\n\n    } catch (error) {\n      console.log(error);\n    }\n    setName('');\n    setPrice('');\n    setReference('');\n    setId('');\n  }\n  /**\n   * funcion mostrar articulo que se ejecuta apenas arranca la app y se renderiza\n   * cada vez que hay un cambio de estado\n   */\n\n  useEffect(() => {\n    async function getData() {\n\n      try {\n        const data = await fetch('http://localhost:4000/article');\n        const response = await data.json();\n        console.log(response);\n        setArticles(response);\n      } catch (error) {\n\n        console.log(error);\n      }\n    }\n    getData();\n\n\n  },\n    [])\n\n\n\n\n\n  return (\n    <div>\n      {/** NAVEGATION */}\n\n     \n      <div className=\"container\">\n        <div className=\"row mt-5\">\n          <div className=\"col-md-4\">\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <form onSubmit={addArticles}>\n                  <div className=\"form-group\">\n                    <input type=\"text\" name=\"reference\" value={reference} onChange={handleChange} placeholder=\"referencia\" className=\"form-control\" />\n                  </div>\n                  <div className=\"form-group\">\n                    <input type=\"text\" name=\"name\" value={name} onChange={handleChange} placeholder=\"name\" className=\"form-control\" />\n                  </div>\n                  <div className=\"form-group\">\n                    <input type=\"text\" name=\"price\" value={price} onChange={handleChange} placeholder=\"price\" className=\"form-control\" />\n                  </div>\n                  {edit === false ?\n                    <button type=\"submit\" className=\"btn btn-primary\">create</button>\n                    :\n                    <div>\n                      <button type=\"submit\" onClick={update} className=\"btn btn-primary\">update</button>\n\n                      <button type=\"button\" onClick={cancelEdit} className=\"btn btn-primary\">cancel</button>\n\n                    </div>\n                  }\n                </form>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-8\">\n            <table className=\"table\">\n              <thead className=\"thead-light\">\n                <tr>\n                  <th scope=\"col\">ref</th>\n                  <th scope=\"col\">neme</th>\n                  <th scope=\"col\">price</th>\n                  <th scope=\"col\">action</th>\n                </tr>\n              </thead>\n              <tbody>\n                {\n                  articles.map((article) => {\n                    return (\n\n                      <tr key={article._id}>\n                        <td> {article.reference}</td>\n                        <td> {article.name}</td>\n                        <td> {article.price}</td>\n                        <td>\n                          <button className=\"btn btn-primary\" onClick={() => editArticles(article)} style={{ margin: '4px', fontSize: '4px' }}>\n                            <i className=\"material-icons\">edit</i>\n                          </button>\n                          <button className=\"btn btn-danger\" onClick={() => deleteArticle(article._id)} style={{ margin: '4px', fontSize: '4px' }}>\n                            <i className=\"material-icons\" >delete</i>\n                          </button >\n                        </td>\n                      </tr>\n\n\n                    )\n                  })\n                }\n              </tbody>\n\n            </table>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n\nexport default Articles;"]},"metadata":{},"sourceType":"module"}