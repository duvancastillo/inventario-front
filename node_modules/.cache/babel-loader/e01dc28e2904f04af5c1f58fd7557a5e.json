{"ast":null,"code":"var _jsxFileName = \"/home/duvan/proyectosjavascript/inventario-front-master/src/componets/Articles.js\";\nimport React, { useEffect, useState } from 'react';\n\nfunction Articles() {\n  //** varaibles de estado */\n  const [articles, setArticles] = useState([]);\n  const [name, setName] = useState('');\n  const [reference, setReference] = useState('');\n  const [price, setPrice] = useState('');\n  const [dbid, setId] = useState('');\n  const [edit, setEdit] = useState(false);\n  const [captura, setCaptura] = useState(false);\n  /** \n   * descripcion: recibe id desde button delete\n   * funtion: elimina articulo correspondente al id requerido\n   * return: nuevo array sin el articulo eliminado\n  */\n\n  async function deleteArticle(id) {\n    window.confirm('desea eliminar el articulo');\n\n    try {\n      await fetch(`http://localhost:4000/article/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Accept': 'application/json',\n          'content-Type': 'application/json'\n        }\n      });\n      const filter = articles.filter(item => item._id !== id);\n      setArticles(filter);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  /** \n   * descricion: recibe el artculo desde el boton update\n   * funcion : actuliza el estado de las variables\n  */\n\n\n  async function editArticles(article) {\n    setName(article.name);\n    setReference(article.reference);\n    setPrice(article.price);\n    setId(article._id);\n    setEdit(true);\n  }\n  /**\n   * \n   *  \n   */\n\n\n  async function update(e) {\n    e.preventDefault();\n    const body = {\n      name,\n      price,\n      reference,\n      _id: dbid\n    };\n\n    try {\n      console.log(dbid);\n      await fetch(`http://localhost:4000/article/${dbid}`, {\n        method: 'PUT',\n        body: JSON.stringify(body),\n        headers: {\n          'Accept': 'application/json',\n          'content-Type': 'application/json'\n        }\n      });\n      const filter = articles.map(item => {\n        if (item._id === dbid) {\n          console.log('entra');\n          item = body;\n        }\n\n        return item;\n      });\n      setArticles(filter);\n      console.log(filter);\n    } catch (error) {\n      console.log(error);\n    }\n\n    setName('');\n    setPrice('');\n    setReference('');\n    setId('');\n  }\n  /***\n   * funcion: cancela la edicion del articulo\n   */\n\n\n  function cancelEdit() {\n    setName('');\n    setPrice('');\n    setReference('');\n    setId('');\n  }\n  /**\n   * descripcion : llegan datos desde el formulario\n   * funcion : captura datos desde el formulario \n   * \n   */\n\n\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n\n      case 'reference':\n        setReference(value);\n        break;\n\n      default:\n        setPrice(value);\n        break;\n    }\n\n    setCaptura(true);\n  }\n  /**\n   * descripcion: recibe los datos agregados desde haldChangue\n   * funcion : envia los datos del article al servidor\n   */\n\n\n  async function addArticles(e) {\n    e.preventDefault();\n    const body = {\n      name,\n      price,\n      reference\n    };\n\n    if (captura) {\n      try {\n        const response = await fetch('http://localhost:4000/article', {\n          method: 'POST',\n          body: JSON.stringify(body),\n          headers: {\n            'Accept': 'application/json',\n            'content-Type': 'application/json'\n          }\n        });\n        const json = await response.json();\n        console.log(json);\n        setArticles([...articles, json['response']]);\n      } catch (error) {\n        console.log(error);\n      }\n\n      setName('');\n      setPrice('');\n      setReference('');\n      setId('');\n      setCaptura(false);\n    }\n  }\n  /**\n   * funcion mostrar articulo que se ejecuta apenas arranca la app y se renderiza\n   * cada vez que hay un cambio de estado\n   */\n\n\n  useEffect(() => {\n    async function getData() {\n      try {\n        const data = await fetch('http://localhost:4000/article');\n        const response = await data.json();\n        console.log(response);\n        setArticles(response);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    getData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: addArticles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"reference\",\n    value: reference,\n    onChange: handleChange,\n    placeholder: \"referencia\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: name,\n    onChange: handleChange,\n    placeholder: \"name\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"price\",\n    value: price,\n    onChange: handleChange,\n    placeholder: \"price\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 21\n    }\n  })), edit === false ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 21\n    }\n  }, \"create\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: update,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 23\n    }\n  }, \"update\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: cancelEdit,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 23\n    }\n  }, \"cancel\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 19\n    }\n  }, \"ref\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  }, \"neme\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 19\n    }\n  }, \"price\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 19\n    }\n  }, \"action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 15\n    }\n  }, articles.map(article => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: article._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 25\n      }\n    }, \" \", article.reference), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 25\n      }\n    }, \" \", article.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 25\n      }\n    }, \" \", article.price), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => editArticles(article),\n      style: {\n        margin: '4px',\n        fontSize: '4px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 29\n      }\n    }, \"edit\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => deleteArticle(article._id),\n      style: {\n        margin: '4px',\n        fontSize: '4px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 29\n      }\n    }, \"delete\"))));\n  })))))));\n}\n\nexport default Articles;","map":{"version":3,"sources":["/home/duvan/proyectosjavascript/inventario-front-master/src/componets/Articles.js"],"names":["React","useEffect","useState","Articles","articles","setArticles","name","setName","reference","setReference","price","setPrice","dbid","setId","edit","setEdit","captura","setCaptura","deleteArticle","id","window","confirm","fetch","method","headers","filter","item","_id","error","console","log","editArticles","article","update","e","preventDefault","body","JSON","stringify","map","cancelEdit","handleChange","value","target","addArticles","response","json","getData","data","margin","fontSize"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\n\n\n\n\n\nfunction Articles() {\n  //** varaibles de estado */\n  const [articles, setArticles] = useState([]);\n  const [name, setName] = useState('');\n  const [reference, setReference] = useState('');\n  const [price, setPrice] = useState('');\n  const [dbid, setId] = useState('');\n  const [edit, setEdit] = useState(false);\n  const [captura, setCaptura] = useState(false);\n\n  \n  /** \n   * descripcion: recibe id desde button delete\n   * funtion: elimina articulo correspondente al id requerido\n   * return: nuevo array sin el articulo eliminado\n  */\n  async function deleteArticle(id) {\n  window.confirm('desea eliminar el articulo')\n    \n      try {\n        await fetch(`http://localhost:4000/article/${id}`, {\n          method: 'DELETE',\n          headers: {\n            'Accept': 'application/json',\n            'content-Type': 'application/json'\n  \n          }\n        })\n        const filter = articles.filter(item => item._id !== id);\n        setArticles(filter);\n  \n      } catch (error) {\n        console.log(error);\n      }\n    \n\n   \n  }\n  /** \n   * descricion: recibe el artculo desde el boton update\n   * funcion : actuliza el estado de las variables\n  */\n  async function editArticles(article) {\n    setName(article.name);\n    setReference(article.reference);\n    setPrice(article.price);\n    setId(article._id);\n    setEdit(true);   \n  }\n  /**\n   * \n   *  \n   */\n  async function update(e) {\n    e.preventDefault();\n    const body = {\n      name,\n      price,\n      reference,\n      _id: dbid\n    }\n    try {\n      console.log(dbid);\n      await fetch(`http://localhost:4000/article/${dbid}`, {\n        method: 'PUT',\n        body: JSON.stringify(body),\n        headers: {\n          'Accept': 'application/json',\n          'content-Type': 'application/json'\n        }\n\n      }\n      )\n      const filter = articles.map(item => {\n        if (item._id === dbid) {\n          console.log('entra')\n          item = body;\n        }\n        return item;\n\n      });\n      setArticles(filter);\n      console.log(filter)\n\n    } catch (error) {\n      console.log(error);\n    }\n    setName('');\n    setPrice('');\n    setReference('');\n    setId('');\n  }\n\n  /***\n   * funcion: cancela la edicion del articulo\n   */\n  function cancelEdit() {\n    setName('');\n    setPrice('');\n    setReference('');\n    setId('');\n  }\n  /**\n   * descripcion : llegan datos desde el formulario\n   * funcion : captura datos desde el formulario \n   * \n   */\n  function handleChange(e) {\n    const { name, value } = e.target;\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n      case 'reference':\n        setReference(value);\n        break;\n      default:\n        setPrice(value);\n        break;\n    }\n    setCaptura(true);\n  }\n\n  /**\n   * descripcion: recibe los datos agregados desde haldChangue\n   * funcion : envia los datos del article al servidor\n   */\n  async function addArticles(e) {\n    e.preventDefault();\n    const body = {\n      name,\n      price,\n      reference\n    }\n    if(captura){\n      try {\n\n        const response = await fetch('http://localhost:4000/article', {\n          method: 'POST',\n          body: JSON.stringify(body),\n          headers: {\n            'Accept': 'application/json',\n            'content-Type': 'application/json'\n  \n          }\n  \n        })\n        const json = await response.json();\n        console.log(json);\n        setArticles([...articles, json['response']])\n  \n      } catch (error) {\n        console.log(error);\n      }\n      setName('');\n      setPrice('');\n      setReference('');\n      setId('');\n      setCaptura(false);\n    }\n  }\n  /**\n   * funcion mostrar articulo que se ejecuta apenas arranca la app y se renderiza\n   * cada vez que hay un cambio de estado\n   */\n\n  useEffect(() => {\n    async function getData() {\n\n      try {\n        const data = await fetch('http://localhost:4000/article');\n        const response = await data.json();\n        console.log(response);\n        setArticles(response);\n      } catch (error) {\n\n        console.log(error);\n      }\n    }\n    getData();\n\n\n  },\n    [])\n\n\n\n\n\n  return (\n    <div>\n      {/** NAVEGATION */}\n\n     \n      <div className=\"container\">\n        <div className=\"row mt-5\">\n          <div className=\"col-md-4\">\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <form onSubmit={addArticles}>\n                  <div className=\"form-group\">\n                    <input type=\"text\" name=\"reference\" value={reference} onChange={handleChange} placeholder=\"referencia\" className=\"form-control\" />\n                  </div>\n                  <div className=\"form-group\">\n                    <input type=\"text\" name=\"name\" value={name} onChange={handleChange} placeholder=\"name\" className=\"form-control\" />\n                  </div>\n                  <div className=\"form-group\">\n                    <input type=\"text\" name=\"price\" value={price} onChange={handleChange} placeholder=\"price\" className=\"form-control\" />\n                  </div>\n                  {edit === false ?\n                    <button type=\"submit\" className=\"btn btn-primary\">create</button>\n                    :\n                    <div>\n                      <button type=\"submit\" onClick={update} className=\"btn btn-primary\">update</button>\n\n                      <button type=\"button\" onClick={cancelEdit} className=\"btn btn-primary\">cancel</button>\n\n                    </div>\n                  }\n                </form>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-8\">\n            <table className=\"table\">\n              <thead className=\"thead-light\">\n                <tr>\n                  <th scope=\"col\">ref</th>\n                  <th scope=\"col\">neme</th>\n                  <th scope=\"col\">price</th>\n                  <th scope=\"col\">action</th>\n                </tr>\n              </thead>\n              <tbody>\n                {\n                  articles.map((article) => {\n                    return (\n\n                      <tr key={article._id}>\n                        <td> {article.reference}</td>\n                        <td> {article.name}</td>\n                        <td> {article.price}</td>\n                        <td>\n                          <button className=\"btn btn-primary\" onClick={() => editArticles(article)} style={{ margin: '4px', fontSize: '4px' }}>\n                            <i className=\"material-icons\">edit</i>\n                          </button>\n                          <button className=\"btn btn-danger\" onClick={() => deleteArticle(article._id)} style={{ margin: '4px', fontSize: '4px' }}>\n                            <i className=\"material-icons\" >delete</i>\n                          </button >\n                        </td>\n                      </tr>\n\n\n                    )\n                  })\n                }\n              </tbody>\n\n            </table>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n\nexport default Articles;"]},"metadata":{},"sourceType":"module"}